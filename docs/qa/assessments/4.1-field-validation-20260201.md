# 4.1 Field Validation (MVP Gate) - Real Camera E2E (진행 중)

- Story: `docs/stories/4.1.real-camera-capture-transfer-ingest-preset-export.md`
- Date: 2026-02-01
- Owner: Dev / Field Validation
- Build:
  - Repo commit (base): `4f508630fdc448f568d5b5807e57721ede856ebc` (working tree dirty)
  - Sidecar mode: `real`
  - Camera model: Canon EOS 700D

## Environment (Phase 0)

- OS: Windows 10 Pro (10.0.26100)
- CPU: Intel(R) Core(TM) i9-9900KF CPU @ 3.60GHz
- RAM: ~64GB
- Power plan: 균형 조정 (Balanced)
- USB selective suspend:
  - AC: 0x00000000 (사용 안 함)
  - DC: 0x00000001 (사용 가능)

## Evidence (Logs)

- Boothy(Tauri): `C:\Users\KimYS\AppData\Roaming\Boothy\logs\boothy-20260201.log`
- Sidecar(.NET): `C:\Users\KimYS\AppData\Roaming\Boothy\logs\boothy-sidecar-20260131.log`

## Findings (Observed)

### A) 전원 사이클 지연은 실제로 존재

- Sidecar(UTC) 기준:
  - `2026-01-31T17:35:31.240Z` Canon state event: Shutdown (power off/disconnect)
  - `2026-01-31T17:35:58.066Z` Canon camera added event received
  - Δ ≈ 26.8s (사용자 체감 “20~30초 뒤 갑자기 변화”와 정합)

### B) LostAfterDetected → sidecar 자동 재시작 패턴 존재

- Boothy(로컬) 기준:
  - `2026-02-01 02:35:31.508` `Auto-restarting sidecar. reason=Some(LostAfterDetected)`

### C) Frontend 리로드(F5) 이후 상태 갱신이 끊기는 듯 보이는 구간

- Boothy(로컬) 로그에서 `02:35:58` 이후 `camera.getStatus` 요청/응답 로그가 더 이상 나오지 않는 구간이 존재.
- Frontend 리로드 정황(`frontend-bootstrap`)은 존재.
- 원인 후보 중 하나로, 리로드 순간 `tauriMock.ts`가 Tauri 런타임을 오탐지하여 `mockIPC`가 활성화될 가능성을 추가로 추적.
  - 해당 경우 `invoke/listen`이 실제 IPC 대신 mock으로 동작해 “랜덤/간헐” 체감이 발생할 수 있음.

## Campaign Checklist (Phase 0/1 일부)

### Preflight

- [x] Log paths 확인 및 로그 생성 확인
- [x] 카메라 모델(700D) 로그로 확인
- [ ] USB 케이블/포트/허브 정보 기록 (현장 메모 필요)
- [ ] Offline(네트워크 차단) 조건에서 E2E 캡처/내보내기 검증

### Real Camera Status / Recovery

- [x] 전원 OFF/ON 이벤트 로그(Shutdown/CameraAdded) 관측
- [ ] “F5/화면 전환 이후에도 상태 갱신 지속” 재현/해결 확인

## Result Summary

- Overall: CONCERNS
- Summary notes:
  - 전원 사이클 시 Canon 재열거/CameraAdded 지연(~27s) 케이스가 존재.
  - 리로드/재진입 이후 상태 갱신이 끊기는 듯한 간헐 패턴이 있어, 실제 field gate(PASS)로 올리기 전에 재현/해결 확인이 필요.

